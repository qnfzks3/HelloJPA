<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>정리</title>
</head>
<body>
  <!--
  매핑 = 데이터를 활용하는것을 의미 읽거나 쓰거나 삭제하거나 등등 우리가 데이터를 이용하는것을  매핑이라 한다
  (데이터와 서로 상호 작용하는 것을 의미)

  어노테이션 = @     ,   @ 기호로 시작하며, 코드에 특별한 정보를 제공하거나 컴파일러와 같은 도구에게 추가적인 정보를 전달하기 위해 사용됩니다.

  Object[] =  모든 자바 객체의 최상위 클래스이므로, 어떤 타입의 데이터든지 배열로 받아올 수 있습니다.
               따라서 CriteriaQuery<Object[]>를 사용하여 컬렉션과 같은 형태의 결과를 받아올 수 있습니다.


---------------------------------------------------------------------------------------------------------------------------


   jpa는 데이터베이스와 상호 작용하기 위한 기능과 인터페이스를 제공   , jtbc를 사용 x - sql을 기준보다 자바를 기준으로 사용함

   JPA는 객체와 테이블 간의 매핑을 위한 어노테이션 기반의 방식을 제공하며,
   SQL 쿼리를 직접 작성하지 않고도 데이터베이스 조작을 수행할 수 있습니다.

    jpa는 구현체를 선택해야한다. ex) Hibernate, EclipseLink, Apache OpenJPA 을 설정

    JPA를 사용하여 객체와 테이블을 매핑하기 위해 엔티티 클래스를 작성해야 합니다.
      엔티티 클래스는 엔티티 클래스는 @Entity 어노테이션으로 표시하고, 필드와 컬럼 간의 매핑을 정의하는 어노테이션을 사용합니다.


****EntityManagerFactory emf = Persistence.createEntityManagerFactory("default");
****EntityManager em = emf.createEntityManager();

--EntityManagerFactory, EntityManager, EntityTransaction은 JPA에서 데이터베이스와 상호 작용하기 위한 핵심 클래스입니다.

EntityManagerFactory  => EntityManager 인스턴스를 생성하는 팩토리 클래스입니다.
 - 우리가 persistence.xml에 적은 정보와 설정 및 데이터베이스를 가져와서 사용할수있도록 EntityManager 생성하고
   데이터베이스와 연결하는 함수

EntityManager  => EntityManager는 JPA의 핵심 클래스로, 데이터베이스와의 세션을 나타냅니다.
                -데이터베이스에 대한 작업(영속성 컨텍스트 관리, 트랜잭션 제어, 쿼리 실행 등)을 수행할 수 있는 주요한 인터페이스입니다.

Persistence.createEntityManagerFactory("default"); 의 의미
- "default"라는 이름의 EntityManagerFactory 인스턴스를 생성

**해석 - EntityManagerFactory emf = Persistence.createEntityManagerFactory("default");
       EntityManagerFactory를 emf로 명명 하여 =  Persistence.xml에 있는 소스를 읽어와 EntityManager를 생성할 수 있도록 함 (이름은 기본값으로)

      EntityManager em = emf.createEntityManager();
      emf로   EntityManager를 생성 해라 , 이 EntityManager 이름을 em으로 명명함

    이제 em으로 sql문을 가져온 Persistence.xml 에 있는 소스를 토대로 데이터베이스에 명령할 수 있게 됬다.

----------------------------------------------------------------------------------------------------------------

****String jpql = "select e from Employees as e";  <- 그냥 sql문
****List<Employees> emps = em.createQuery(jpql,Employees.class).getResultList();

createQuery :createQuery() 메서드는 JPQL (Java Persistence Query Language) 쿼리를 실행하는 데 사용됩니다

getResultList : getResultList() 실행한 sql문의 결과를 리스트 emps로 보내주는 함수

*** 해석 - List<Employees> emps = em.createQuery(jpql,Employees.class).getResultList();

              리스트     = EntityManager인 em으로 sql문을 model의 Employees 타입으로 실행 해라  - 여기서 타입은 안정해줘도 된다.
                         그리고  getResultList() sql문으로 가져온 데이터를 리스트에 넣어라 -

또 , List<Object[]> items =  em.createQuery(jpql).getResultList(); 의 경우를 보면 Object는 기본적인거라
       List<Object[]> items =  em.createQuery(jpql,Object[]).getResultList(); 이렇게 Object[] 가 생략 되었다고 볼 수 있다.
 순서에 맞게 em.createQuery(jpql, int.class, String.class) 이런식으로 넣어서 사용해줄수도있다 그런데 그냥 Object[]를 쓰던가 아이에 쓰지말자


   -->
<!--2  Criteria

 EntityManagerFactory emf = Persistence.createEntityManagerFactory("default");
 EntityManager em = emf.createEntityManager();
 여기까진 같다.

  CriteriaBuilder cb = em.getCriteriaBuilder(); Criteria 는 빌더로 빌드 후에 사용한다.
  CriteriaQuery<Employees> query = cb.createQuery(Employees.class); 빌드를 했으면 데이터를 지정한 쿼리문을 생성해준다.


--------------------------------------------------------------------------------------------------------------------


fetch() 메서드는 Querydsl을 사용하여 작성된 쿼리를 실행하고,
그 결과를 가져오는 역할을 합니다. fetch()는 다음과 같은 세 가지 형태로 사용될 수 있습니다.





-->



</body>
</html>